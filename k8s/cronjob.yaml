apiVersion: batch/v1
kind: CronJob
metadata:
  name: warp-nightly-job
spec:
  schedule: "*/1 * * * *"  # ⏱ Runs every minute — good for testing
  jobTemplate:
    spec:
      backoffLimit: 1
      template:
        spec:
          containers:
          - name: warp-job
            image: warp-feature-engineering:latest
            imagePullPolicy: Never  # Local image, don't pull
            command: ["python", "lambda_function.py"]
            env:
            - name: SAGEMAKER_ENDPOINT_NAME
              value: "mock-endpoint"
            volumeMounts:
            - name: scratch-volume
              mountPath: /app/data
          restartPolicy: Never
          volumes:
          - name: scratch-volume
            emptyDir: {}

